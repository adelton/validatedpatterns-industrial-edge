---
# Source: manuela-stormshift/templates/factory-mirror-maker/secret-data-lake.yaml
apiVersion: v1
data:
  ca.crt: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUZMVENDQXhXZ0F3SUJBZ0lVWjBCcEh5c0ZIRkJOQ1J1bFh4SGZOYkZkTktvd0RRWUpLb1pJaHZjTkFRRU4KQlFBd0xURVRNQkVHQTFVRUNnd0thVzh1YzNSeWFXMTZhVEVXTUJRR0ExVUVBd3dOWTJ4MWMzUmxjaTFqWVNCMgpNREFlRncweU1qQTFNVFl4TXpRd01UQmFGdzB5TXpBMU1UWXhNelF3TVRCYU1DMHhFekFSQmdOVkJBb01DbWx2CkxuTjBjbWx0ZW1reEZqQVVCZ05WQkFNTURXTnNkWE4wWlhJdFkyRWdkakF3Z2dJaU1BMEdDU3FHU0liM0RRRUIKQVFVQUE0SUNEd0F3Z2dJS0FvSUNBUURFTFhIanhQMnBNRmdGZFl0TnUzU28zR1FEWVhGczdTRzlkNCtCc0wvKwo3TGJVM2NLQ0FSd3dzajE4OThqWjBwVExlVFhnZEhqdFk5SEVSVWZ0YmxNeTdMZ001WW1lNlY3OTBKVE5FZWpVCnprSG1DSVdySU11NEJpVEJaQURFWGM5anczQVpFN1RvRzlxb0kwa2h5UGo3T2tMK0IzK1pvMXFNSVZLVklTYnEKaGx5SU1YckJ5cnFDeE9SQWxjdU1hTUptVjdqVVF0cDZmanhvRXFFUnhhc0hQOGVIaTBOaFZoSTlodGJ1MUpocgpVdkR4b3kyWXFBNGREVGxtY1FYSlRWQXpxakRJcUd3b25aYUt5NTlLZ3Q4WVhPem5xSDFVa0hHMytNZTQ5bjRxClFhQ0JhZG9FYkxFOGxHejgyYk5iMjcyQnM5L1pGbEU4MVdwMG9yTDFYTUdUUmV0bW5TcmVReVladitKa1ZnRGMKSHdXVHJ1WmVncE93ZnhHRkRXWDNDN0JpMWtHdmIybjdKbHB6enRWVTM2OHVBTENsUVIwNWpaV3VHeEl6NzZBKwpjdG8vZS9xbmxNTGdMTEl2bXk4cHFnNzYvL3ozdXpkcXJ1L3ZSdEpDOTkzUW1STHczcW5pWnFiMWluaDJtOUs2CmtwSUs3S0s3NmRSbGw5WHJhUDZyQ0wzb2Z4aFUvYlN5dzhpa01xOG4zV01HNFA0bEpjSGdRVHk3aFE3aXJGWmkKVFprcTBVd08xOEUxL1FWVDZ2TWhWeHBRZ2RlRUI1QUtkeitPSUpLaU9ya01lV09USFJPOUJZQ29TZHhGNys0aApkejlDS0FPNlF4RHpWMHlIWjJqT0hYUFdwRWY3SjhTaTRmRmZpZHR2ZW13Yi9ScFp6ZmVIL3JZWm03bUlvTHpLCjR3SURBUUFCbzBVd1F6QWRCZ05WSFE0RUZnUVVmVkdMTDdVMkNUemVRMUhKZDFZZjVMM2Zjd1V3RWdZRFZSMFQKQVFIL0JBZ3dCZ0VCL3dJQkFEQU9CZ05WSFE4QkFmOEVCQU1DQVFZd0RRWUpLb1pJaHZjTkFRRU5CUUFEZ2dJQgpBSVRuV2hRMTJSd3FnUUgvV2p1UnZaV1hZRHVMZ1lZajhHTkNOT3ZPNlZmbnVtRmo5blZjVTR1bUUxU1hLUlVvCnZkb0ZFQnpzb2RxeTh0RzBMN3B0T0xOOGJ4bGR1WGxrUXhNbm52dXMyWHk0Qk1pSCtoM0RCVlAwNDR3Vm5yOWkKSTVoQ2FQdDlWYWJ0RTZtVHphZWJLMmZwTUJHdE5QbGhOMytBZERpdHROS0pFUnBGdkpCM2lxN1RQTndJYUVGdgpLdytVUnZ2OG5MTi9wSHpvVUo2ckVzb3BWV0FNK3V0R2lZckw5TmpWYnpZWFAvbEhsT1BQVFFFNGFDalVnU0tMCmxhcllpalpYVnE0c1g4ckJZQTExQndtRW9LMy9OLzJzcDRDcUk2Zm5KeW1mZzhNL01ya1ZlNkJYclNUSWhablYKR2hFaHdJUW4zRjNlRTZNWUNTdHNqQkYzTVIwd2xTdWpQMG1hUHIxZHJBVzBuWkpzaGtMZHB6S1NsRU0xcmdjTApYaitLY3JaeVY4WVExSm9XaW1vOXM4QUxQZy9pU1RWQWNEZ3haVmswN1FlamVydktTU1loSWJpR0hMejFwRkx3CnBMYlYrM2VCZmYxYWFLVWM0eFJZZnZQZjJ3ZDhxL2JKOW95RWJLY0wrZmtvK1gxbzNSS2t1c1Zvc2JjRXNhTnYKOGVHdkRFTk1KbGVxNHFUYWdJKzZLYXYxMEliaTM0WVY4ZFBqY0R4YTMwOGV3bkpMRFNOVDZLbnlQUytxRlJmMApya1dkU1ZRdysydHZNUG4weVBrVVd5SjF5UEw1d2VmU2plMmhSNmtRbVZaZHlkeXBGSXRsVUlFM294NUZDRHRiCmp0dExhSDVOWWU4eE1qczYrdUd3L2FJL1NEMGg4dStRV0w4UFZMQUJoUUFaCi0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K
  ca.p12: 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
  ca.password: ZGhVZG5DQVlodENO
kind: Secret
metadata:
  labels:
    app.kubernetes.io/instance: prod-kafka-cluster
    app.kubernetes.io/managed-by: strimzi-cluster-operator
    app.kubernetes.io/name: strimzi
    app.kubernetes.io/part-of: strimzi-prod-kafka-cluster
    argocd.argoproj.io/instance: production-data-lake
    strimzi.io/cluster: prod-kafka-cluster
    strimzi.io/kind: Kafka
    strimzi.io/name: strimzi
  name: prod-kafka-cluster-cluster-ca-cert
  namespace: manuela-stormshift-messaging
type: Opaque
---
# Source: manuela-stormshift/templates/factory-mirror-maker/secret.yaml
apiVersion: v1
data:
  ca.crt: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUZMVENDQXhXZ0F3SUJBZ0lVRFcySXhUakszWmIrdCttOFVmWFJHTXdUNFJnd0RRWUpLb1pJaHZjTkFRRU4KQlFBd0xURVRNQkVHQTFVRUNnd0thVzh1YzNSeWFXMTZhVEVXTUJRR0ExVUVBd3dOWTJ4MWMzUmxjaTFqWVNCMgpNREFlRncweU1qQTFNVFF5TURNM05URmFGdzB5TXpBMU1UUXlNRE0zTlRGYU1DMHhFekFSQmdOVkJBb01DbWx2CkxuTjBjbWx0ZW1reEZqQVVCZ05WQkFNTURXTnNkWE4wWlhJdFkyRWdkakF3Z2dJaU1BMEdDU3FHU0liM0RRRUIKQVFVQUE0SUNEd0F3Z2dJS0FvSUNBUURpVVJRVys2enlLU3FMS21XaTZiSjFvZTBVTW1OZjMrejdYTVpMQ2dlKwo4VWJoS3E1YWJPZ2V0akNvNEJuT2phTEtVNEhGSTJ1b3dqU241QW9ra0E0WFhDdmJxbkhPTnk5bDdjOU9FaTBqClJ5azVUM1VEcGE3ZkYxNHRTYm5NRytYZUYxNG9LQ2ErdEZyWldPN0hHb1d3dVB0SEFtQ1IrNkZ0TEtuOE12K04KbEU0UGx0ZzJ2Z0xqUEVCQThYU3RBMklHZ2tQT29TWFZlWjBNYXQ1Qjk3dXQ3bTFsbkRQbU5tcWx2azlDbHJjTQo1YWQyeCtpbDdoNnRrb1hudkR4eEhyS0tORXFHNkd3Sm5mQTZrTklSVDU4TWFiSmtLK3pWRndFRjNXQkh2dUxjCm16Nm9QTkVpV201WHhUY3cvTndRMHVzK0pRdlJUVS9CVUFYM1FsT01vaHNIMUVvWEsrd3duQ0pybDQrbnZvQ3gKdDFuejhYV3pPVWdqcXM4WEppN1ZsTG1TRHpHRkI4dXdwQmNCSjJ4Rkg4VURRNnlMVW11cUFVdC9UYnV1Y3VrRworZVRVdUF4Umo2NXlQTGlYK2dBank0TVpYaEl3anB3ajB6L3RMYWh0Q2hjSVdsaSs4OHQ1cW5iZ0V0dDBycXY1CmhDcUZXYkt5dUkrM0kvUi96anE5WGVkcjlmSXZtWm96ZnNtUmJ2NEhBZ2RDaVhCL3FtL1dCZDR4UksxeVRNZTAKSEM0dUhqZVRhUkhtMjJPd1F2aFlKRUN2K2hDaklnWGFvNGZIcGpSa1FOMVphQkU0RUxSSjZqNVZoZDFMTWdNVwpueXhqdEhRVlBMcWl5SVp5MnlqY05UNFJ6dDM2dkxqUmZLSXdBdG0zTEZBLzdSczhkZzdIckk0NDhwdmZqMTlXCmZ3SURBUUFCbzBVd1F6QWRCZ05WSFE0RUZnUVV3RHB1MjZGdHBLKzZaMkozVTVHZFRxOG1veHd3RWdZRFZSMFQKQVFIL0JBZ3dCZ0VCL3dJQkFEQU9CZ05WSFE4QkFmOEVCQU1DQVFZd0RRWUpLb1pJaHZjTkFRRU5CUUFEZ2dJQgpBTVdGOU5FazkybkFYVmtteDdSYU5wVlFjMXhBWmtJTTgrU2hvbVFRY0RrUVEwQnE3NGtPWFhqUkxpRTdrMlYyCmpHbEVoQUtiMllWQ1R3azVVRHFrSU5xb1lVREtmOWQvdDNNWm93V21TZkxyVnZjd0lZRTJna2VrTHlRN3VWalMKMFlUMERETkhGNTFJSVJ3MWtJRGNOL2l0MGZzVlgwakpzR05NZFgzNmpCYUVlcVR1QUtLNFRNK3dBZmM0QkN3UAo5dXZkQ3IwYzhIZmRZWWJkdXJMKzN2dDFWSUVRT3hCck5nQmU3VEwrTnBlaE1XblNZcUlOZ1ltdStuaFlMVjJLCjNUMjhWVVgxdkxEcmZEdUlSRGY4SmswR2NUWUpOZzVPMTNsM0xabENOSEg0V0gxR3RDaW42OWU5U0Vzd21XVUkKNnlsQ2V5U3NnU3d0Z0hIRXVYWi9VV2lqMDEzYTFoMU9KdFUyYVZtdWcrK3R4T0p0Y00xMmpKVFB2VGtmYTV0NwppUDRLTnd5ZXdTMmlvbVNEZDhlRTYyaXpvR1RZcmVEREVMQ1FKdFJNVkcyc2l2ajcxSUpsamE4UlBNV0l4S25QCjZQdmdVU1Y4S0ljTDBZYkFXc3A3ZzFjQXBuZGdhZDJZSmlVZUkvZWIvdG9pZjZDNWR2RXY3dkIzdnJwY2xpZWQKUjhNYzJnclBvbXpuc3Q3TkJza2dweG9YMHdlZzRYMDV1NzI4dFVWMzNsTzMwZ1MzMFNMbWJybDJ1VWQzSXhmNgpkWG53MzFWKzViWE9rSG5JTHU3ZkFOZXdrVkc1bGxVQVIyM0VlMFR1YnZlYk5xdGN5ZEZCQUdNUHEzZSt5T3hxCk9jaVZhaGNzN3kvK0tWSW95U3JJY2ZRUDZla1ZxMi84Y29lMGtZQ0d5QUZ2Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K
  ca.p12: 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
  ca.password: dm9RNGtXMTBrMThG
kind: Secret
metadata:
  annotations:
    strimzi.io/ca-cert-generation: "0"
  labels:
    app.kubernetes.io/instance: prod-kafka-cluster
    app.kubernetes.io/managed-by: strimzi-cluster-operator
    app.kubernetes.io/name: strimzi
    app.kubernetes.io/part-of: strimzi-prod-kafka-cluster
    argocd.argoproj.io/instance: production-data-lake
    strimzi.io/cluster: prod-kafka-cluster
    strimzi.io/kind: Kafka
    strimzi.io/name: strimzi
  name: prod-kafka-cluster-cluster-ca-cert
  namespace: manuela-stormshift-messaging
type: Opaque
---
# Source: manuela-stormshift/templates/line-dashboard/line-dashboard-configmap.config.yaml
apiVersion: v1
kind: ConfigMap
metadata:
  name: line-dashboard-configmap
  namespace: manuela-stormshift-line-dashboard
  labels:
    app.kubernetes.io/instance: manuela-stormshift
data:
  "config.json": |-
    {
      "websocketHost": "http://messaging-manuela-stormshift-messaging.region.example.com",
      "websocketPath": "/api/service-web/socket",
      "SERVER_TIMEOUT": "20000"
    }
---
# Source: manuela-stormshift/templates/machine-sensor/machine-sensor-1-configmap.yaml
apiVersion: v1
kind: ConfigMap
metadata:
  name: machine-sensor-1
  namespace: manuela-stormshift-machine-sensor
data:
  MQTT_HOSTNAME: "broker-amq-mqtt-all-0-svc-rte-manuela-stormshift-messaging.region.example.com"
  MQTT_PORT: "80"
  APP_NAME: "iot-sensor"
  DEVICE_ID: "pump-1"
  DEVICE_METRICS: "temperature,vibration,gps,light"
  MACHINE_ID: "floor-1-line-1-extruder-1"

  MQTT_PASSWORD: "iotuser"
  MQTT_TLSSNI: "false"
  MQTT_USER: "iotuser"

  SENSOR_GPS_ENABLED: "false"
  SENSOR_GPS_FINAL_LATITUDE: "40.689879"
  SENSOR_GPS_FINAL_LONGITUDE: "-73.992895"
  SENSOR_GPS_FREQUENCY: "5"
  SENSOR_GPS_INITIAL_LATITUDE: "42.579258"
  SENSOR_GPS_INITIAL_LONGITUDE: "-71.437841"
  SENSOR_GPS_ITERATION_LATITUDE: "-0.009"
  SENSOR_GPS_ITERATION_LONGITUDE: "-0.012"

  SENSOR_LIGHT_ENABLED: "false"
  SENSOR_LIGHT_FREQUENCY: "5"
  SENSOR_LIGHT_MAXITERATION: "3"
  SENSOR_LIGHT_MAXRANGE: "25000"
  SENSOR_LIGHT_MINITERATION: "0"
  SENSOR_LIGHT_MINRANGE: "0"
  SENSOR_LIGHT_START: "0"

  SENSOR_TEMPERATURE_ENABLED: "false"
  SENSOR_TEMPERATURE_FREQUENCY: "5"
  SENSOR_TEMPERATURE_MAXITERATION: "1"
  SENSOR_TEMPERATURE_MAXRANGE: "55"
  SENSOR_TEMPERATURE_MINITERATION: "0"
  SENSOR_TEMPERATURE_MINRANGE: "45"
  SENSOR_TEMPERATURE_STARTMAX: "50"
  SENSOR_TEMPERATURE_STARTMIN: "50"
  
  SENSOR_VIBRATION_ENABLED: "true"
  SENSOR_VIBRATION_FREQUENC: "5"
  SENSOR_VIBRATION_MAXITERATION: "1"
  SENSOR_VIBRATION_MAXRANGE: "18"
  SENSOR_VIBRATION_MINITERATION: "0"
  SENSOR_VIBRATION_MINRANGE: "10"
  SENSOR_VIBRATION_START: "15"
  SENSOR_VIBRATION_PEAKINTETVAL: "20"
---
# Source: manuela-stormshift/templates/machine-sensor/machine-sensor-2-configmap.yaml
apiVersion: v1
kind: ConfigMap
metadata:
  name: machine-sensor-2
  namespace: manuela-stormshift-machine-sensor
data:
    MQTT_HOSTNAME: "broker-amq-mqtt-all-0-svc-rte-manuela-stormshift-messaging.region.example.com"
    MQTT_PORT: "80"
    SENSOR_TEMPERATURE_ENABLED: "false"
    APP_NAME: "iot-sensor"
    DEVICE_ID: "pump-2"
    DEVICE_METRICS: "temperature,vibration,gps,light"
    MACHINE_ID: "floor-1-line-1-extruder-1"
    
    MQTT_PASSWORD: "iotuser"
    MQTT_TLSSNI: "false"
    MQTT_USER: "iotuser"
    
    SENSOR_GPS_ENABLED: "false"
    SENSOR_GPS_FINAL_LATITUDE: "40.689879"
    SENSOR_GPS_FINAL_LONGITUDE: "-73.992895"
    SENSOR_GPS_FREQUENCY: "5"
    SENSOR_GPS_INITIAL_LATITUDE: "42.579258"
    SENSOR_GPS_INITIAL_LONGITUDE: "-71.437841"
    SENSOR_GPS_ITERATION_LATITUDE: "-0.009"
    SENSOR_GPS_ITERATION_LONGITUDE: "-0.012"
    
    SENSOR_LIGHT_ENABLED: "false"
    SENSOR_LIGHT_FREQUENCY: "5"
    SENSOR_LIGHT_MAXITERATION: "3"
    SENSOR_LIGHT_MAXRANGE: "25000"
    SENSOR_LIGHT_MINITERATION: "0"
    SENSOR_LIGHT_MINRANGE: "0"
    SENSOR_LIGHT_START: "0"
    
    SENSOR_TEMPERATURE_ENABLED: "true"
    SENSOR_TEMPERATURE_FREQUENCY: "5"
    SENSOR_TEMPERATURE_MAXITERATION: "1"
    SENSOR_TEMPERATURE_MAXRANGE: "55"
    SENSOR_TEMPERATURE_MINITERATION: "0"
    SENSOR_TEMPERATURE_MINRANGE: "45"
    SENSOR_TEMPERATURE_STARTMAX: "50"
    SENSOR_TEMPERATURE_STARTMIN: "50"
    
    SENSOR_VIBRATION_ENABLED: "true"
    SENSOR_VIBRATION_FREQUENC: "5"
    SENSOR_VIBRATION_MAXITERATION: "1"
    SENSOR_VIBRATION_MAXRANGE: "17"
    SENSOR_VIBRATION_MINITERATION: "0"
    SENSOR_VIBRATION_MINRANGE: "10"
    SENSOR_VIBRATION_START: "12"
    SENSOR_VIBRATION_PEAKINTETVAL: "200"
---
# Source: manuela-stormshift/templates/messaging-kafka/mqtt2kafka-config.yaml
kind: ConfigMap
apiVersion: v1
metadata:
  name: mqtt2kafka-config
  namespace: manuela-stormshift-messaging
# DO NOT DELETE. NEEDED BY THE mqtt2kafka-integration SERVICE
---
# Source: manuela-stormshift/templates/messaging/messaging-configmap.yaml
apiVersion: v1
kind: ConfigMap
metadata:
  name: messaging-configmap
  namespace: manuela-stormshift-messaging
data:
  VIBRATION_ALERT_ENABLED: "true"
  VIBRATION_ANOMALY_ENABLED: "true"
  NODE_TLS_REJECT_UNAUTHORIZED: "0"
  MQTT_BROKER: "ws://broker-amq-mqtt-all-0-svc:61616"
  MQTT_PASSWORD: "iotuser"
  MQTT_USER: "iotuser"
  PORT: "3000"
  SOCKET_PATH: "/api/service-web/socket"
  TEMPERATURE_THRESHOLD: "70.0"
  TEMPERATURE_ALERT_ENABLED: "true"
  VIBRATION_ALERT_ENABLED: "true"
  TOPIC_GPS: "iot-sensor/sw/gps"
  TOPIC_TEMPERATURE: "iot-sensor/sw/temperature"
  TOPIC_VIBRATION: "iot-sensor/sw/vibration"
  TOPIC_LIGHT: "iot-sensor/sw/light"
  VIBRATION_ANOMALY_ENABLED: "true"
  ANOMALY_DETECTION_URL: "http://anomaly-detection-predictor:8000"
---
# Source: manuela-stormshift/templates/line-dashboard/line-dashboard-svc.yaml
apiVersion: v1
kind: Service
metadata:
  labels:
    app: line-dashboard
  name: line-dashboard
  namespace: manuela-stormshift-line-dashboard
spec:
  ports:
  - name: 8080-tcp
    port: 8080
    protocol: TCP
    targetPort: 8080
  selector:
    app: line-dashboard
    deploymentconfig: line-dashboard
  sessionAffinity: None
  type: ClusterIP
---
# Source: manuela-stormshift/templates/messaging/messaging-svc.yaml
apiVersion: v1
kind: Service
metadata:
  labels:
    app: messaging
  name: messaging
  namespace: manuela-stormshift-messaging
spec:
  ports:
  - name: 3000-tcp
    port: 3000
    protocol: TCP
    targetPort: 3000
  selector:
    app: messaging
    deploymentconfig: messaging
  sessionAffinity: None
  type: ClusterIP
---
# Source: manuela-stormshift/templates/line-dashboard/line-dashboard-deployment.yaml
apiVersion: apps/v1
kind: Deployment
metadata:
  labels:
    application: line-dashboard
    template: openjdk18-web-basic-s2i
    app.kubernetes.io/part-of: ManuELA
  name: line-dashboard
  namespace: manuela-stormshift-line-dashboard
spec:
  replicas: 1
  revisionHistoryLimit: 10
  selector:
    matchLabels:
      deploymentconfig: line-dashboard
  template:
    metadata:
      creationTimestamp: null
      labels:
        app: line-dashboard
        deploymentconfig: line-dashboard
      name: line-dashboard
    spec:
      containers:
      - name: line-dashboard
        image: line-dashboard:0.3.1-81
        #imagePullPolicy: Always
        ports:
        - containerPort: 8080
          name: http
          protocol: TCP
        volumeMounts:
        # the following mountpath is used for images which are based on the HTTPD base images, i.e. built using the CI/CD pipelines
        - mountPath: /var/www/html/conf
          name: line-dashboard-configmap-vol
        # the following mountpath is used for images based directly on the NodeJS builder image, i.e. when deploying images built in the iotdemo namespace during quickstart
        - mountPath: /opt/app-root/output/conf/config.json
          name: line-dashboard-configmap-vol
        resources: {}
        terminationMessagePath: /dev/termination-log
        terminationMessagePolicy: File
        livenessProbe: 
          httpGet:   
            path: /home
            port: 8080
            scheme: HTTP
          initialDelaySeconds: 15  
          timeoutSeconds: 1
          periodSeconds: 10
          successThreshold: 1
          failureThreshold: 3
        readinessProbe:
          httpGet:
            path: /home
            port: 8080
            scheme: HTTP
          initialDelaySeconds: 15
          timeoutSeconds: 1
          periodSeconds: 10
          successThreshold: 1
          failureThreshold: 3
      volumes:
      - name: line-dashboard-configmap-vol
        configMap:
          defaultMode: 438
          name: line-dashboard-configmap
---
# Source: manuela-stormshift/templates/machine-sensor/machine-sensor-1-deployment.yaml
apiVersion: apps/v1
kind: Deployment
metadata:
  labels:
    application: machine-sensor-1
    template: openjdk18-web-basic-s2i
    app.kubernetes.io/part-of: ManuELA
  name: machine-sensor-1
  namespace: manuela-stormshift-machine-sensor
spec:
  replicas: 1
  revisionHistoryLimit: 10
  selector:
    matchLabels:
      deploymentConfig: machine-sensor-1
  template:
    metadata:
      creationTimestamp: null
      annotations:
        checksum/config: 5f93b487342a4f0d001d14b04c1fdc07cb8777b21ef8efc2b0058d76485e7f83
      labels:
        application: machine-sensor-1
        deploymentConfig: machine-sensor-1
      name: machine-sensor-1
    spec:
      containers:
      - name: machine-sensor
        image: machine-sensor:latest
        #imagePullPolicy: Always
        ports:
          - containerPort: 8778
            name: jolokia
            protocol: TCP
          - containerPort: 8080
            name: http
            protocol: TCP
          - containerPort: 8443
            name: https
            protocol: TCP
        envFrom:
          - configMapRef: 
              name: machine-sensor-1
        resources: {}
        terminationMessagePath: /dev/termination-log
        terminationMessagePolicy: File
        livenessProbe: 
          httpGet:   
            path: /actuator/health
            port: 8080
          initialDelaySeconds: 15  
          timeoutSeconds: 1
          periodSeconds: 10
          successThreshold: 1
          failureThreshold: 3
        readinessProbe:
          httpGet:
            path: /actuator/health
            port: 8080
            scheme: HTTP
          initialDelaySeconds: 15
          timeoutSeconds: 1
          periodSeconds: 10
          successThreshold: 1
          failureThreshold: 3
---
# Source: manuela-stormshift/templates/machine-sensor/machine-sensor-2-deployment.yaml
apiVersion: apps/v1
kind: Deployment
metadata:
  labels:
    application: machine-sensor-2
    template: openjdk18-web-basic-s2i
    app.kubernetes.io/part-of: ManuELA
  name: machine-sensor-2
  namespace: manuela-stormshift-machine-sensor
spec:
  replicas: 1
  revisionHistoryLimit: 10
  selector:
    matchLabels:
      deploymentConfig: machine-sensor-2
  template:
    metadata:
      creationTimestamp: null 
      annotations:
        checksum/config: 0724c60161ed0ccb1af5ad3871f4b3b81f18da14b2b0772d0e2578f4e8f8f72a
      labels:
        application: machine-sensor-2
        deploymentConfig: machine-sensor-2
      name: machine-sensor-2
    spec:
      containers:
      - name: machine-sensor
        image: machine-sensor:latest
        #imagePullPolicy: Always
        ports:
          - containerPort: 8778
            name: jolokia
            protocol: TCP
          - containerPort: 8080
            name: http
            protocol: TCP
          - containerPort: 8443
            name: https
            protocol: TCP
        envFrom:
          - configMapRef: 
              name: machine-sensor-2
        resources: {}
        terminationMessagePath: /dev/termination-log
        terminationMessagePolicy: File
        livenessProbe: 
          httpGet:   
            path: /actuator/health
            port: 8080
          initialDelaySeconds: 15  
          timeoutSeconds: 1
          periodSeconds: 10
          successThreshold: 1
          failureThreshold: 3
        readinessProbe:
          httpGet:
            path: /actuator/health
            port: 8080
            scheme: HTTP
          initialDelaySeconds: 15
          timeoutSeconds: 1
          periodSeconds: 10
          successThreshold: 1
          failureThreshold: 3
---
# Source: manuela-stormshift/templates/messaging/messaging-deployment.yaml
apiVersion: apps/v1
kind: Deployment
metadata:
  labels:
    application: messaging
  name: messaging
  namespace: manuela-stormshift-messaging
spec:
  replicas: 1
  revisionHistoryLimit: 10
  selector:
    matchLabels:
      app: messaging
  strategy:
    type: RollingUpdate
  template:
    metadata:
      labels:
        app: messaging
        deploymentconfig: messaging
    spec:
      containers:
      - image: messaging
        #imagePullPolicy: Always
        name: messaging
        ports:
        - containerPort: 3000
          protocol: TCP
        envFrom:
        - configMapRef:
            name: messaging-configmap
        resources: {}
        terminationMessagePath: /dev/termination-log
        terminationMessagePolicy: File
        livenessProbe: 
          httpGet:   
            path: /health
            port: 3000
          initialDelaySeconds: 15  
          timeoutSeconds: 1
          periodSeconds: 10
          successThreshold: 1
          failureThreshold: 3
        readinessProbe:
          httpGet:
            path: /health
            port: 3000
            scheme: HTTP
          initialDelaySeconds: 15
          timeoutSeconds: 1
          periodSeconds: 10
          successThreshold: 1
          failureThreshold: 3  
      dnsPolicy: ClusterFirst
      restartPolicy: Always
      schedulerName: default-scheduler
      securityContext: {}
      terminationGracePeriodSeconds: 30
---
# Source: manuela-stormshift/templates/factory-mirror-maker/factory-to-central-mirror-maker2.yaml
#apiVersion: kafka.strimzi.io/v1beta2
#kind: KafkaMirrorMaker2
#metadata:
#  name: factory-to-central-mm2
#  namespace: manuela-stormshift-messaging
#spec:
#  version: 3.1.0
#  replicas: 1
#  connectCluster: production-kafka-cluster
#  clusters:
#    - alias: production-kafka-cluster
#      bootstrapServers: 'bootstrap-manuela-data-lake-kafka-cluster.hub.example.com:443'
#      #bootstrapServers: 'bootstrap-manuela-data-lake-kafka-cluster.apps.industrial-factory-1.blueprints.rhecoeng.com:443'
#      #
#      # TODO: This is a secret that we will need to create in the manuela-stormshift-messaging namespace
#      #
#      tls:
#        trustedCertificates:
#        - certificate: ca.crt
#          secretName: prod-kafka-cluster-cluster-ca-cert 
#    - alias: factory-kafka-cluster
#      bootstrapServers: 'factory-kafka-cluster-kafka-bootstrap.manuela-stormshift-messaging.svc:9092'
#      config:
#        config.storage.replication.factor: 1
#        offset.storage.replication.factor: 1
#        status.storage.replication.factor: 1  
#  mirrors:
#    - sourceCluster: factory-kafka-cluster
#      targetCluster: production-kafka-cluster
#      sourceConnector:
#        config:
#          replication.factor: 1
#          offset-syncs.topic.replication.factor: 1
#          sync.topic.acls.enabled: 'false'
#      heartbeatConnector:
#        config:
#          heartbeats.topic.replication.factor: 1
#      checkpointConnector:
#        config:
#          checkpoints.topic.replication.factor: 1
#      topicsPattern: .*
#      groupsPattern: .*
---
# Source: manuela-stormshift/templates/messaging/amq-broker.yaml
apiVersion: broker.amq.io/v2alpha4
kind: ActiveMQArtemis
metadata:
  name: broker-amq-mqtt
  namespace: manuela-stormshift-messaging
  annotations:
    argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true
spec:
  deploymentPlan:
    size: 1
    image: registry.redhat.io/amq7/amq-broker:7.6
    # requireLogin: false
    # persistenceEnabled: false
    journalType: nio
    messageMigration: false
  console:
    expose: true
  acceptors:
    - name: all
      port: 61616
      expose: true
    # - name: amqp
    #   protocols: amqp
    #   port: 5672
    #   sslEnabled: true
    #   enabledCipherSuites: SSL_RSA_WITH_RC4_128_SHA,SSL_DH_anon_WITH_3DES_EDE_CBC_SHA
    #   enabledProtocols: TLSv1,TLSv1.1,TLSv1.2
    #   needClientAuth: true
    #   wantClientAuth: true
    #   verifyHost: true
    #   sslProvider: JDK
    #   sniHost: localhost
    #   expose: true
    #   anycastPrefix: jms.topic.
    #   multicastPrefix: /queue/
    # - name: mqtt
    #   protocols: mqtt
    #   port: 1883
    #   # sslEnabled: true
    #   enabledCipherSuites: SSL_RSA_WITH_RC4_128_SHA,SSL_DH_anon_WITH_3DES_EDE_CBC_SHA
    #   enabledProtocols: TLSv1,TLSv1.1,TLSv1.2
    #   needClientAuth: true
    #   wantClientAuth: true
    #   verifyHost: true
    #   sslProvider: JDK
    #   sniHost: broker-amq-mqtt
    #   expose: true
    #   anycastPrefix: jms.topic.
    #   multicastPrefix: /queue/
---
# Source: manuela-stormshift/templates/anomaly-detection/anomaly-detection-is.yaml
apiVersion: image.openshift.io/v1
kind: ImageStream
metadata:
  labels:
    application: anomaly-detection
  name: anomaly-detection
  namespace: manuela-stormshift-messaging
spec:
  lookupPolicy:
    local: false
  tags:
  - name: 0.3.2
    from:
      kind: DockerImage
      name: quay.io/hybridcloudpatterns/iot-anomaly-detection:0.3.2
    importPolicy: {}
    referencePolicy:
      type: Local
---
# Source: manuela-stormshift/templates/line-dashboard/line-dashboard-is.yaml
apiVersion: image.openshift.io/v1
kind: ImageStream
metadata:
  name: line-dashboard
  namespace: manuela-stormshift-line-dashboard
spec:
  lookupPolicy:
    local: true
  tags:
  - name: 0.3.1
    from:
      kind: DockerImage
      name: quay.io/hybridcloudpatterns/iot-frontend:0.3.1
    importPolicy: {}
    referencePolicy:
      type: Local
---
# Source: manuela-stormshift/templates/machine-sensor/machine-sensor-is.yaml
apiVersion: image.openshift.io/v1
kind: ImageStream
metadata:
  name: machine-sensor
  namespace: manuela-stormshift-machine-sensor
spec:
  lookupPolicy:
    local: true
  tags:
  - name: 0.3.1
    from:
      kind: DockerImage
      name: quay.io/hybridcloudpatterns/iot-software-sensor:0.3.1
    importPolicy: {}
    referencePolicy:
      type: Local
---
# Source: manuela-stormshift/templates/messaging/messaging-is.yaml
apiVersion: image.openshift.io/v1
kind: ImageStream
metadata:
  name: messaging
  namespace: manuela-stormshift-messaging
spec:
  lookupPolicy:
    local: true
  tags:
  - name: 0.3.2
    from:
      kind: DockerImage
      name: quay.io/hybridcloudpatterns/iot-consumer:0.3.2
    importPolicy: {}
    referencePolicy:
      type: Local
---
# Source: manuela-stormshift/templates/messaging-kafka/mqtt2kafka-integration.yaml
apiVersion: camel.apache.org/v1
kind: Integration
metadata:
  name: mqtt2kafka-integration
  namespace: manuela-stormshift-messaging
  annotations:
    argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true 
spec:
  configuration:
    - type: configmap
      value: mqtt2kafka-config
  profile: OpenShift
  sources:
    - content: |
        package com.redhat.manuela.routes;

        import org.apache.camel.builder.RouteBuilder;
        import org.apache.camel.component.kafka.KafkaConstants;
        import org.apache.camel.model.OnCompletionDefinition;
        import org.slf4j.Logger;
        import org.slf4j.LoggerFactory;


        public class MQTT2KafkaRoute extends RouteBuilder {
            
            private static final Logger LOGGER = LoggerFactory.getLogger(MQTT2KafkaRoute.class);
            
            @Override
            public void configure() throws Exception {
                storeTemperatureInKafka();
                storeVibrationInKafka();
                //readTemperatureFromKafka();
                //readVibrationFromKafka();
            }

            private void storeTemperatureInKafka() {
                // This block is to extract the cluster name from our VP
                // localClusterDomain setting. Please see the config map.
                String temp = "region.example.com";
                String delims="[ . ]+";
                String [] tokens = temp.split(delims);
                String cluster_name = tokens[1];

                from("paho:iot-sensor/sw/temperature?brokerUrl=tcp://broker-amq-mqtt-all-0-svc:61616&clientId=MQTT2KafkaRoute-temp")
                    .log("Storing temperature message from [" + cluster_name + "] MQTT: ${body}")
                    .setHeader(KafkaConstants.KEY, constant(cluster_name))
                    //.setHeader(KafkaConstants.KEY, constant("sensor-temp"))
                    .to("kafka:manuela-factory.iot-sensor-sw-temperature?brokers=factory-kafka-cluster-kafka-bootstrap:9092")
                    ;//.log("sent message: ${headers[org.apache.kafka.clients.producer.RecordMetadata]}");
            }

            private void storeVibrationInKafka() {
                // This block is to extract the cluster name from our VP
                // localClusterDomain setting. Please see the config map.
                String temp = "region.example.com";
                String delims="[ . ]+";
                String [] tokens = temp.split(delims);
                String cluster_name = tokens[1];

                from("paho:iot-sensor/sw/vibration?brokerUrl=tcp://broker-amq-mqtt-all-0-svc:61616&clientId=MQTT2KafkaRoute-vibr")
                    .log("Storing vibration message from [" + cluster_name + "] MQTT: ${body}")
                    .setHeader(KafkaConstants.KEY, constant(cluster_name))
                    // .setHeader(KafkaConstants.KEY, constant("sensor-temp"))
                    .to("kafka:manuela-factory.iot-sensor-sw-vibration?brokers=factory-kafka-cluster-kafka-bootstrap:9092")
                    ;//.log("sent message: ${headers[org.apache.kafka.clients.producer.RecordMetadata]}");
            }

            private void readTemperatureFromKafka() {
                from("kafka:manuela-factory.iot-sensor-sw-temperature?brokers=factory-kafka-cluster-kafka-bootstrap:9092")
                    .log("Reading message from Kafka: ${body}")
                    .log("    on the topic ${headers[kafka.TOPIC]}")
                    .log("    on the partition ${headers[kafka.PARTITION]}")
                    .log("    with the offset ${headers[kafka.OFFSET]}")
                    .log("    with the key ${headers[kafka.KEY]}");
            }

            private void readVibrationFromKafka() {
                from("kafka:manuela-factory.iot-sensor-sw-vibration?brokers=factory-kafka-cluster-kafka-bootstrap:9092")
                    .log("Reading message from Kafka: ${body}")
                    .log("    on the topic ${headers[kafka.TOPIC]}")
                    .log("    on the partition ${headers[kafka.PARTITION]}")
                    .log("    with the offset ${headers[kafka.OFFSET]}")
                    .log("    with the key ${headers[kafka.KEY]}");
            }

            @Override
            public OnCompletionDefinition onCompletion() {
                return super.onCompletion();
            }
        }
      name: MQTT2KafkaRoute.java
---
# Source: manuela-stormshift/templates/messaging-kafka/camel-k-integration-platform.yaml
apiVersion: camel.apache.org/v1
kind: IntegrationPlatform
metadata:
  name: camel-k
  namespace: manuela-stormshift-messaging
  labels:
    app: "camel-k"
  annotations:
    argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true 
spec:
  configuration:
  - type: repository
    value: https://maven.repository.redhat.com/earlyaccess/all@id=redhat.ea
---
# Source: manuela-stormshift/templates/messaging-kafka/kafka-cluster.yaml
apiVersion: kafka.strimzi.io/v1beta2
kind: Kafka
metadata:
  name: factory-kafka-cluster
  namespace: manuela-stormshift-messaging
  annotations:
    argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true
spec:
  kafka:
    replicas: 3
    listeners:
      - name: plain
        port: 9092
        type: internal
        tls: false
      - name: tls
        port: 9093
        type: internal
        tls: true
      - name: external
        port: 9094
        type: route
        tls: true
        configuration:
          bootstrap:
            host: bootstrap-factory-kafka-cluster.region.example.com
    config:
      offsets.topic.replication.factor: 3
      transaction.state.log.min.isr: 2
      transaction.state.log.replication.factor: 3
    storage:
      type: ephemeral
  zookeeper:
    replicas: 3
    storage:
      type: ephemeral
  entityOperator:
    topicOperator: {}
    userOperator: {}
---
# Source: manuela-stormshift/templates/factory-mirror-maker/factory-mirror-maker.yaml
apiVersion: kafka.strimzi.io/v1beta2
kind: KafkaMirrorMaker
metadata:
  name: factory-to-central-mm
  namespace: manuela-stormshift-messaging
spec:
  consumer:
    bootstrapServers: >-
      factory-kafka-cluster-kafka-bootstrap.manuela-stormshift-messaging.svc:9092
    groupId: my-source-group-id
  include: .*
  livenessProbe:
    failureThreshold: 2
    initialDelaySeconds: 1
    periodSeconds: 1
    successThreshold: 1
    timeoutSeconds: 2
  producer:
    bootstrapServers: >-
      prod-kafka-cluster-kafka-bootstrap-manuela-data-lake.hub.example.com:443
    tls:
      trustedCertificates:
        - certificate: ca.crt
          secretName: prod-kafka-cluster-cluster-ca-cert
  readinessProbe:
    failureThreshold: 2
    initialDelaySeconds: 0
    periodSeconds: 1
    successThreshold: 2
    timeoutSeconds: 2
  replicas: 1
  version: 3.1.0
---
# Source: manuela-stormshift/templates/messaging-kafka/kafka-topic-temperature.yaml
apiVersion: kafka.strimzi.io/v1beta1
kind: KafkaTopic
metadata:
  name: iot-sensor-sw-temperature
  namespace: manuela-stormshift-messaging
  labels:
    strimzi.io/cluster: factory-kafka-cluster
  annotations:
    argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true 
spec:
  partitions: 1
  replicas: 1
  config:
    retention.ms: 7200000
    segment.bytes: 1073741824
---
# Source: manuela-stormshift/templates/messaging-kafka/kafka-topic-vibration.yaml
apiVersion: kafka.strimzi.io/v1beta1
kind: KafkaTopic
metadata:
  name: iot-sensor-sw-vibration
  namespace: manuela-stormshift-messaging
  labels:
    strimzi.io/cluster: factory-kafka-cluster
  annotations:
    argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true 
spec:
  partitions: 1
  replicas: 1
  config:
    retention.ms: 7200000
    segment.bytes: 1073741824
---
# Source: manuela-stormshift/templates/anomaly-detection/iot-anomaly-detection-route.yaml
apiVersion: route.openshift.io/v1
kind: Route
metadata:
  name: anomaly-detection
  namespace: manuela-stormshift-messaging
  labels:
    component: serving
spec:
  port:
    targetPort: http
  to:
    kind: Service
    name: anomaly-detection-predictor-anomaly-detection
  tls:
    insecureEdgeTerminationPolicy: Allow
    termination: edge
---
# Source: manuela-stormshift/templates/line-dashboard/line-dashboard-route.yaml
apiVersion: route.openshift.io/v1
kind: Route
metadata:
  labels:
    app: line-dashboard
  name: line-dashboard
  namespace: manuela-stormshift-line-dashboard
spec:
  subdomain: line-dashboard-manuela-stormshift-line-dashboard
  port:
    targetPort: 8080-tcp
  to:
    kind: Service
    name: line-dashboard
    weight: 100
  wildcardPolicy: None
---
# Source: manuela-stormshift/templates/messaging/messaging-route.yaml
apiVersion: route.openshift.io/v1
kind: Route
metadata:
  name: messaging
  namespace: manuela-stormshift-messaging
spec:
  subdomain: messaging-manuela-stormshift-messaging
  port:
    targetPort: 3000-tcp
  to:
    kind: Service
    name: messaging
    weight: 100
  wildcardPolicy: None
---
# Source: manuela-stormshift/templates/anomaly-detection/iot-anomaly-detection-seldon.yaml
apiVersion: machinelearning.seldon.io/v1
kind: SeldonDeployment
metadata:
  name: anomaly-detection
  namespace: manuela-stormshift-messaging
  labels:
    component: serving
  annotations:
    alpha.image.policy.openshift.io/resolve-names: "*"
    argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true
spec:
  annotations:
    deployment_version: "1"
  name: anomaly-detection
  predictors:
  - annotations:
        predictor_version: "0.1"
    componentSpecs:
    - spec:
        containers:
          - name: anomaly-detection
            image: anomaly-detection:0.3.2-119
            env:
            - name: MODEL_FIILE
              value: "model.joblib"
    graph:
      endpoint:
        type: REST
      name: anomaly-detection
      type: MODEL
    name: predictor
    replicas: 1
